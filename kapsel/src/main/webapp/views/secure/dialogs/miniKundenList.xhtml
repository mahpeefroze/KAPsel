<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

	<h:form id="miniKListePanel">
	<p:dataTable id="miniKListe" var="item" value="#{kundeBean.kunden}"
		selectionMode="single" selection="#{auftragBean.newAuftrag.kunde}"
		rowKey="#{item.knr}" emptyMessage="#{labels.norecords}" sortBy="#{item.knr}">
		
		<p:ajax event="rowSelect" update=":dlgNewAuftragPanel"/>
							
		<p:column headerText="#{labels.k_nr}" >
			<h:outputText value="#{item.knr}" style="width:50px;" />
		</p:column>
		<p:column headerText="#{labels.nachname}">
			<h:outputText value="#{item.name}" />
		</p:column>
		<p:column headerText="#{labels.typ}">
			<h:outputText value="#{item.typ}" />
		</p:column>
	</p:dataTable>
	
	<p:commandButton value="OK" oncomplete="PF('kundeSelect').hide();" />
	<p:commandButton value="Abbrechen" action="#{auftragBean.clearKundeSelection()}" update=":dlgNewAuftragPanel" oncomplete="PF('kundeSelect').hide();" />
	</h:form>


</ui:composition>
